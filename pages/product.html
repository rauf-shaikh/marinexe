<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Products - Marinexe</title>
    <link rel="icon" href="https://marinexe.blogspot.com/favicon.ico" />

    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- Alpine.js CDN -->
    <script
      defer
      src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"
    ></script>
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Anton&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="../css/custom.css">

    <script src="https://code.iconify.design/iconify-icon/1.0.8/iconify-icon.min.js"></script>
  </head>
  <body
    x-data="initPageLayout()"
    x-init="loadTemplates()"
    class="min-h-screen flex flex-col bg-white"
  >
    <!-- Header placeholder -->
    <div x-ref="header"></div>

    <main class="flex-grow">
      <!-- Hero Section with Background Image -->
      <div class="relative h-[70vh] w-full overflow-hidden">
        <img
          src="../assets/product-page/header-image.jpg"
          alt="About Image"
          class="absolute top-0 left-0 w-full h-full object-cover"
        />
        <div class="absolute inset-0 bg-black bg-opacity-40"></div>

        <!-- Optional overlay content -->
        <div class="relative z-10 h-full flex items-center justify-center">
          <div
            class="max-w-7xl mx-auto absolute bottom-0 left-4 right-4 sm:left-6 sm:right-6 md:left-8 md:right-8 lg:left-16 lg:right-16 xl:left-24 xl:right-24 2xl:left-[100px] 2xl:right-[100px] flex flex-col items-center sm:items-start justify-end text-center sm:text-left z-10 pb-8 md:pb-12 lg:pb-8"
          >
            <div class="max-w-full md:max-w-2xl space-y-6 md:space-y-7">
              <h1
                class="text-white text-3xl md:text-5xl font-semibold drop-shadow-lg leading-tight uppercase lg:whitespace-nowrap"
              >
                Exporting India's Best Seafood
              </h1>

              <p
                class="text-white text-lg md:text-lg font-medium drop-shadow leading-relaxed max-w-2xl"
              >
                Certified, Processed & Globally Shipped.
              </p>
            </div>
          </div>
        </div>
      </div>

      <!-- Product page Section 1 -->
      <section class="px-6 pt-20 md:px-6">
        <div class="max-w-7xl mx-auto text-center">
          <h2
            class="text-[2.5rem] text-blue-900 uppercase leading-none custom-heading"

          >
            Our Seafood products
          </h2>
          <p
            class="mt-4 text-gray-600 mx-auto text-base md:text-lg font-medium leading-relaxed max-w-full md:max-w-3xl lg:max-w-4xl"
          >
            Explore a wide range of export-quality fish and seafood varieties
          </p>
        </div>
      </section>

      <!-- Product page Section 2 -->
      <section class="px-6 py-20 md:px-8 lg:px-12">
        <div class="max-w-7xl mx-auto" x-data="productStore()">
          <!-- Filter Buttons -->
          <div class="overflow-x-auto sm:overflow-visible mb-6 no-scrollbar">
            <div
              class="flex flex-nowrap sm:flex-wrap gap-2 sm:gap-4 justify-start sm:justify-center"
            >
              <template x-for="filter in filters" :key="filter">
                <button
                  @click="selected = filter"
                  :aria-pressed="selected === filter"
                  :class="selected === filter 
                    ? 'bg-blue-100 text-blue-900' 
                    : 'bg-gray-100 text-gray-600'"
                  class="whitespace-nowrap px-4 py-2 rounded-full text-sm md:text-base font-medium cursor-pointer transition-colors duration-200"
                >
                  <span x-text="filter"></span>
                </button>
              </template>
            </div>
          </div>

        <div class="grid gap-8 grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4">
          <template x-for="product in allProductsSorted" :key="product.name">
            <div @click="openModal(product)"
              :class="product.categories.includes(selected) ? 
                'bg-green-100 shadow-md rounded-lg overflow-hidden transition-transform duration-300 hover:scale-105 cursor-pointer' 
                : 'bg-blue-100 shadow-md rounded-lg overflow-hidden transition-transform duration-300 hover:scale-105 cursor-pointer'"
            >
              <img
                :src="product.image"
                :alt="product.name"
                loading="lazy"
                class="w-full h-48 object-cover"
              />
              <div class="p-4">
                <h3
                  class="text-lg font-semibold"
                  :class="product.categories.includes(selected) ? 'text-gray-800' : 'text-blue-900'"
                  x-text="product.name"
                ></h3>
                <p
                  class="text-sm text-gray-600 mt-2"
                  x-text="product.description"
                ></p>

                <!-- Add More button -->
                <span
                  @click="openModal(product)"
                  class="mt-3 inline-block text-blue-900 cursor-pointer hover:underline text-sm font-medium"
                >
                  More
                </span>
              </div>
            </div>
          </template>
        </div>

<!-- Modal -->
<div
  x-show="modalOpen"
  x-cloak
  @keydown.escape.window="closeModal()"
  @click.self="closeModal()"
  class="fixed inset-0 z-[2000] flex items-center justify-center bg-black bg-opacity-60 backdrop-blur-sm transition duration-300"
  x-transition:enter="transition ease-out duration-200"
  x-transition:enter-start="opacity-0"
  x-transition:enter-end="opacity-100"
  x-transition:leave="transition ease-in duration-150"
  x-transition:leave-start="opacity-100"
  x-transition:leave-end="opacity-0"
>
  <div
    @click.stop
    class="bg-white rounded-2xl shadow-lg w-full max-w-5xl mx-4 relative overflow-visible flex flex-col md:flex-row h-[500px]"
    x-transition:enter="transition ease-out duration-200 transform"
    x-transition:enter-start="scale-95 opacity-0"
    x-transition:enter-end="scale-100 opacity-100"
    x-transition:leave="transition ease-in duration-150 transform"
    x-transition:leave-start="scale-100 opacity-100"
    x-transition:leave-end="scale-95 opacity-0"
  >
<!-- Close Button (Floating Outside Top-Right) -->
<button
  @click="closeModal()"
  class="absolute -top-3 -right-3 p-3 rounded-lg shadow-lg bg-gradient-to-r from-blue-700 to-indigo-900 hover:brightness-90 z-20"
  aria-label="Close modal"
>
  <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor">
    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="4" d="M6 18L18 6M6 6l12 12" />
  </svg>
</button>


    <!-- Left: Image -->
    <div class="md:w-1/2 w-full h-60 md:h-full">
      <img
        :src="modalProduct.image"
        :alt="modalProduct.name"
        class="w-full h-full object-cover rounded-2xl"
      />
    </div>

    <!-- Right: Text Content -->
    <div class="md:w-2/3 w-full p-6 overflow-y-auto">
      <h2 class="mt-4 text-3xl md:text-[2.5rem] text-blue-900 uppercase leading-tight custom-heading" x-text="modalProduct.modalTitle || modalProduct.name"></h2>
      <p class="text-base font-medium text-gray-700 my-4" x-show="modalProduct.modalName" x-text="modalProduct.modalName"></p>
      <hr class="border-gray-300 mb-4" />
      <!-- Product Details List -->
      <template x-if="modalProduct.details && modalProduct.details.length">
        <ul class="list-disc list-inside text-sm text-gray-600 space-y-5">
          <template x-for="(item, index) in modalProduct.details" :key="index">
            <li x-text="item"></li>
          </template>
        </ul>
      </template>
    </div>
  </div>
</div>


        </div>
      </section>
    </main>

    <!-- Footer placeholder -->
    <div x-ref="footer"></div>
    <script>
      function productStore() {
        return {
          selected: "All Products",

          filters: [
            "All Products",
            "Most Exported",
          ],
          products: [
            {
              name: "Scampi", // Shown on card
              categories: [],
              image: "../assets/product-page/product-img1.png",
              description: "Freshwater scampi with delicate flavor, sourced from trusted farms.",
              modalTitle: "SCAMPI / FRESHWATER SHRIMPS",   // Custom title for modal
              modalName: "Raw Water Scampi Shrimp (Shellon)",       // Custom name/subname
              details: [
                "Raw Headon Shellon with Claw -- 1/2 to 16/20 pcs/lb",
                "Raw Headon Shellon without Claw -- 1/2 to 16/20 pcs/lb",
                "Raw Headless Shellon -- u/5 to 41/50 pcs/lb",
                "Raw Headless Shellon Easy Peel -- u/5 to 41/50 pcs/lb",
                "Raw PUD Tail-off -- 13/15 to 51/60 pcs/lb"
              ]
            },
            {
              name: "Black Tiger Shrimp",
              categories: [],
              image: "../assets/product-page/product-img2.jpeg",
              description:"Premium wild-caught shrimp known for its size and taste.",
              modalTitle: "BLACK TIGER SHRIMPS (Penaeus Monodon)",   // Custom title for modal
              modalName: " Raw Black Tiger Shrimp (Shellon)",       // Custom name/subname
              details: [
                "Raw Headon Shellon 21/25 to 51/60 pcs/kg",
                "Raw Headless Shellon 21/25 to 91/110 pcs/lb",
                "Raw Headless Shellon Easy peel 21/25 to 71/90 pcs/lb"
              ]
            },
            {
              name: "Vannamei Shrimp",
              categories: ["Most Exported"],
              image: "../assets/product-page/product-img3.png",
              description:"Farmed white shrimp — processed and exported globally.",
              modalTitle: "VANNAMEI SHRIMPS (Litopenaeus vannamei)",   // Custom title for modal
              modalName: " Raw Vannamei White Shrimp (Shellon)",       // Custom name/subname
              details: [
                "Raw Headon Shellon 21 /25 to 80/120 pcs/kg",
                "Raw Headless Shellon 21/25 to 91/110 pcs/lb",
                "Raw Headless Shellon Easy Peel 21/25 to 71/90 pcs/lb"
              ]
            },
            {
              name: "Tuna",
              categories: ["Most Exported"],
              image: "../assets/product-page/product-img4.png",
              description: "Cleaned and processed tuna, export-ready.",
              modalTitle: "Fish",   // Custom title for modal
              modalName: " Tuna Long Tail",       // Custom name/subname
              details: [
                "Whole Round IQF Bulk 25Kgs in poly bags",
                "2/3 , 3/5, 5/up (Kgs per piece)"
              ]
            },
            {
              name: "Cuttle Fish",
              categories: [],
              image: "../assets/product-page/product-img5.png",
              description:"Export-grade, cleaned and frozen for global delivery.",
              modalTitle: "CEPHALOPODS",   // Custom title for modal
              modalName: "Cuttle fish (Sepia pharaohnis)",       // Custom name/subname
              details: [
                "For Whole Round Cuttlefish 4 x 5 Kg, 2 x 10 Kg Block or IQF in 1 Kg bags",
                "U/20 T0 1000/UP (Grams/piece)",
                "For Whole Cleaned Cuttlefish 2 x 6 Kg, 12 x 1 Kg Bulk IQF, 10% OR 15% Glaze",
                "U/1 TO 60/UP (PCS/KG)",
                "Also available cuttlefish fillet and tentacles."
              ]
            },
            {
              name: "Semi Needle Loligo Squid",
              categories: [],
              image: "../assets/product-page/product-img6.png",
              description:"Premium semi-needle squid, frozen and export ready.",
              modalTitle: "CEPHALOPODS",   // Custom title for modal
              modalName: "Squid (Loligo Duvaucelii) /Semi needle Squid ( Doryteuthiis Sibogae)",       // Custom name/subname
              details: [
                "For Whole Round Squid -10 x 2 Kg Block Frozen, Glaze 10/ 15 / 20%",
                "U/3 TO 20/40",
                "For Whole Round Squid- 12 x 1 Kg IQF, 10% Glaze",
                "6/10,10/20,20/40 pieces/kgs",
                "For Whole Cleaned Squid- 10 x 2 Kg Blocks",
                "U/5 , 6/10, 10/20, 20/40 pieces/ Kgs",
                "Whole Cleaned Squid -12 x 1 Kg IQF, 10% Glaze",
                "6/10, 10/20, 20/40 pieces/kg",
                "For Squid Rings Blanched -12 Kg Bulk IQF, 10% Glaze",
                "60/UP (made from 60/UP Size)",
                "For Squid Tentacles Blanched -12 Kg Bulk IQF, 10% Glaze",
                "60/UP (made from 60/UP Size )",
                "For Squid Tubes - Raw or Blanched 10 x 2 Kg Block Net Weight",
                "60/80,80/150,150/200, Broken",
                "For Baby Squid -12 x 1 Kg Block, 10% Glaze",
                "100/UP Pieces/Kg"
              ]
            },
            {
              name: "Loligo Squid",
              categories: [],
              image: "../assets/product-page/product-img7.png",
              description:
                "Frozen whole squid, popular in international markets.",
            },
            {
              name: "Ribbon Fish",
              categories: ["Most Exported"],
              image: "../assets/product-page/product-img8.png",
              description: "Wild-caught, frozen ribbon fish for export demand.",
              modalTitle: "Fish",   // Custom title for modal
              modalName: "Ribbon fish",       // Custom name/subname
              details: [
                "10 KG BLAST FROZEN",
                "100/200 TO 1000/UP (GRAMS/ Pcs)",
                "Ribbonfish IQF, IWP 10 Kgs",
                "400/700, 700/1000, 1000/UP"
              ]
            },
            {
              name: "Catfish (Frozen)",
              categories: ["Most Exported"],
              image: "../assets/product-page/product-img9.png",
              description: "Farm-raised and processed catfish for export.",
            },
            {
              name: "Queen Fish (Frozen)",
              categories: ["Most Exported"],
              image: "../assets/product-page/product-img10.png",
              description: "Frozen queen fish, processed for overseas buyers.",
            },
            {
              name: "Yellow Croaker (Frozen)",
              categories: ["Most Exported"],
              image: "../assets/product-page/product-img11.png",
              description:"High-demand yellow croaker, frozen for global trade.",
              modalTitle: "Fish",   // Custom title for modal
              modalName: "Croaker yellow",       // Custom name/subname
              details: [
                "10 KGS SHATTER PACK",
                "50 / 100 TO 300 / UP"
              ]
            },
            {
              name: "Crab",
              categories: [],
              image: "../assets/product-page/product-img12.png",
              description:"Freshly frozen crab, sourced for global seafood markets.",
              modalTitle: "CRUSTACEANS",   // Custom title for modal
              modalName: "Sea Crab",       // Custom name/subname
              details: [
                "10kg/ctn with inner polybag & outer carton, whole round IQF",
                "100-200g,200-300g,300-400g"
              ]
            },
            {
              name: "Lobster (Panulirus Polyphagus)",
              categories: [],
              image: "../assets/product-page/product-img13.png",
              description:"Premium spiny lobster, frozen and ready for export.",
              modalTitle: "CRUSTACEANS",   // Custom title for modal
              modalName: "Spiny lobster whole",       // Custom name/subname
              details: [
                "2 × 5kg IQF,IWP",
                "300/400 to 800/up (grams/piece)"
              ]
            },
            {
              name: "Yellowfin Tuna",
              categories: ["Most Exported"],
              image: "../assets/product-page/product-img14.jpg",
              description:"Ocean-caught yellowfin, frozen for international trade.",
              modalTitle: "Fish",   // Custom title for modal
              modalName: "Tuna yellowfin",       // Custom name/subname
              details: [
                "IQF, running weight bags",
                "4/10, 10/20, 20/30, 30/up (Kgs per piece)"
              ]
            },
            {
              name: "Dorab (Wolf Herring)",
              categories: ["Most Exported"],
              image: "../assets/product-page/product-img15.png",
              description:
                "Frozen dorab herring, popular in export destinations.",
            },
            {
              name: "Seawater Shrimps",
              categories: [],
              image: "../assets/product-page/product-img16.png",
              description:
                "Wild-caught shrimps, frozen for premium export markets.",
            },
          ],

          get highlightedProducts() {
            if (this.selected === "All Products") return this.products;
            return this.products.filter((p) =>
              p.categories.includes(this.selected)
            );
          },

          get otherProducts() {
            if (this.selected === "All Products") return [];
            return this.products.filter(
              (p) => !p.categories.includes(this.selected)
            );
          },
                    // NEW state:
          modalOpen: false,
          modalProduct: {},

          // NEW methods:
          openModal(product) {
            this.modalProduct = product;
            this.modalOpen = true;
          },

          closeModal() {
            this.modalOpen = false;
          },

          get allProductsSorted() {
            if (this.selected === "All Products") return this.products;

            const highlighted = this.products.filter((p) =>
              Array.isArray(p.categories)
                ? p.categories.includes(this.selected)
                : p.categories === this.selected
            );

            const others = this.products.filter((p) =>
              Array.isArray(p.categories)
                ? !p.categories.includes(this.selected)
                : p.categories !== this.selected
            );

            return [...highlighted, ...others];
          },
        };
      }

      function initPageLayout() {
        return {
          async loadTemplates() {
            const headerRes = await fetch("../templates/header.html");
            const headerHtml = await headerRes.text();
            this.$refs.header.innerHTML = headerHtml;
            Alpine.initTree(this.$refs.header);

            const footerRes = await fetch("../templates/footer.html");
            const footerHtml = await footerRes.text();
            this.$refs.footer.innerHTML = footerHtml;
            Alpine.initTree(this.$refs.footer);
          },
        };
      }
    </script>
  </body>
</html>
